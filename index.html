<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hundeide Maskinutleie ‚Äì Minigraver 1 tonn</title>
  <link rel="stylesheet" href="style.css" />

  <!-- EmailJS (for sending e‚Äëpost direkte til Gmail) -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    // FYLL INN DINE VERDIER FRA EMAILJS:
    const EMAILJS_PUBLIC_KEY = "PUBLIC_KEY";
    const EMAILJS_SERVICE_ID = "SERVICE_ID";
    const EMAILJS_TEMPLATE_ID = "TEMPLATE_ID";
    (function(){ try{ emailjs.init(EMAILJS_PUBLIC_KEY); }catch(e){} })();
  </script>
</head>
<body>
  <header class="header">
    <img src="Hundeide_Maskinutleie_AS_logo.png" alt="Hundeide Maskinutleie AS" class="logo-full" />
  </header>

  <main>
    <section class="hero">
      <h1>Lei minigraver ‚Äì klar til jobb</h1>
      <p>Kompakt, enkel √• bruke og komfortabel i all slags v√¶r. Perfekt til hage, drenering, gr√∏fter og sm√• grunnarbeid i H√∏nefoss og omegn.</p>
      <div class="cta">
        <a href="#bestill" class="btn">Bestill n√•</a>
        <a href="#priser" class="btn ghost">Se priser</a>
      </div>
    </section>

    <section id="priser" class="section">
      <h2>Priser</h2>
      <div class="cards">
        <div class="card">
          <h3>D√∏gn</h3>
          <div class="price">1 500 kr</div>
          <p>08:00 ‚Üí 08:00</p>
        </div>
        <div class="card">
          <h3>Helg</h3>
          <div class="price">3 000 kr</div>
          <p>Fre 16:00 ‚Üí Man 08:00</p>
        </div>
        <div class="card">
          <h3>Uke</h3>
          <div class="price">6 500 kr</div>
          <p>Man 08:00 ‚Üí Man 08:00</p>
        </div>
      </div>

      <div class="info">
        <p><strong>Transport:</strong> Tilkj√∏ring/henting 1 000 kr inntil 20 km fra H√∏nefoss (etter avtale).</p>
        <p><strong>Rengj√∏ring:</strong> Returneres ren, ellers rengj√∏ringsgebyr 750 kr.</p>
      </div>
    </section>

    <section class="section">
      <h2>Ekstrautstyr (pris pr. d√∏gn)</h2>
      <ul class="bullets">
        <li>20 cm smalskuff m/tenner ‚Äì <strong>150 kr</strong></li>
        <li>43 cm gravskuff ‚Äì <strong>inkludert</strong></li>
        <li>60 cm gravskuff ‚Äì <strong>200 kr</strong></li>
        <li>100 cm pusseskuff (tannl√∏s) ‚Äì <strong>200 kr</strong></li>
        <li>Ripper / scarifier ‚Äì <strong>150 kr</strong></li>
        <li>Mekanisk hurtigfeste ‚Äì <strong>100 kr</strong></li>
        <li>Hydraulisk tommel ‚Äì <strong>200 kr</strong></li>
        <li>Jordbor 200 mm ‚Äì <strong>400 kr</strong></li>
      </ul>
    </section>

    <section id="bestill" class="section">
      <h2>Bestill minigraver</h2>
      <p>Fyll ut skjemaet ‚Äì vi bekrefter p√• SMS/e‚Äëpost.</p>

      <!-- Netlify backup + EmailJS -->
      <form id="bestillForm"
            name="bestilling"
            method="POST"
            data-netlify="true"
            netlify-honeypot="bot-field"
            action="/takk.html"
            class="form">
        <!-- Netlify krever disse to for √• fange innsendelser -->
        <input type="hidden" name="form-name" value="bestilling" />
        <p class="hidden"><label>Ikke fyll ut: <input name="bot-field" /></label></p>

        <div class="grid">
          <label>Navn* <input type="text" name="navn" required></label>
          <label>Telefon* <input type="tel" name="telefon" required></label>
          <label>E‚Äëpost <input type="email" name="epost" placeholder="epost@domene.no"></label>
          <label>Dato (fra‚Äìtil)* <input type="text" name="dato" placeholder="f.eks. 12.‚Äì14. okt" required></label>
        </div>

        <label>Ekstrautstyr
          <input type="text" name="ekstra" placeholder="F.eks. 20 cm smalskuff, pusseskuff">
        </label>

        <div class="grid">
          <label>Tilkj√∏ring
            <select name="tilkjoring">
              <option>Nei</option>
              <option>Ja ‚Äì 1 000 kr (‚â§20 km)</option>
            </select>
          </label>
          <label>Adresse for tilkj√∏ring
            <input type="text" name="adresse" placeholder="Gjelder ved tilkj√∏ring">
          </label>
        </div>

        <label>Melding
          <textarea name="melding" rows="4" placeholder="Evt. detaljer om adkomst, portbredde osv."></textarea>
        </label>

        <button type="submit" class="btn full">Send foresp√∏rsel</button>
        <p class="tiny">Ved innsending godtar du v√•re leievilk√•r.</p>
      </form>
    </section>
  </main>

  <footer class="footer">
    <p><strong>Hundeide Maskinutleie</strong> ¬∑ H√∏nefoss og omegn</p>
    <p>üìû <a href="tel:+4792098742">920 98 742</a> ¬∑ ‚úâÔ∏è <a href="mailto:matshundeide@gmail.com">matshundeide@gmail.com</a></p>
  </footer>

  <script>
    // Sender via EmailJS, og om det feiler lar vi Netlify ta over
    document.getElementById('bestillForm').addEventListener('submit', async function(e){
      try {
        // hvis EmailJS ikke er satt opp enn√•, la Netlify h√•ndtere innsendingen
        if (!EMAILJS_PUBLIC_KEY || EMAILJS_PUBLIC_KEY === "PUBLIC_KEY") return;

        e.preventDefault();
        const form = e.target;
        const data = {
          navn: form.navn.value,
          telefon: form.telefon.value,
          epost: form.epost.value || "-",
          dato: form.dato.value,
          ekstra: form.ekstra.value || "-",
          tilkjoring: form.tilkjoring.value,
          adresse: form.adresse.value || "-",
          melding: form.melding.value || "-"
        };

        await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, data, EMAILJS_PUBLIC_KEY);
        window.location.href = "/takk.html";
      } catch(err){
        // fallback ‚Äì la Netlify ta imot (action="/takk.html")
        console.warn("EmailJS feilet, sender via Netlify i stedet:", err);
        e.target.submit();
      }
    });
  </script>
</body>
</html>
